总体介绍

好像就是个组件化操作系统



前面的都是背景介绍

4.1

匹配语言的运行时模型

简单来说，就给他单一地址空间去做

4.2

语言内操作系统设计

总而言之，为了安全性，尽可能的利用rust的机制，只有绕不开的时候，才用rust本身alloc和core库中的代码来进行unsafe。

对于接口，也保留了比如生命周期等等信息



用unwind来确保安全

4.3

使用mappedpages来管理物理内存



考虑到多个页面映射到同一个物理页框上去，可能会绕过编译器内置的安全检查，从而导致问题，因此，这里面不允许这种重复映射。

通过，allocpage，allocframe和mappage中间，将对象进行所有权的传递，从而让他不能重复映射

而通过rust的生命周期管理，让他可以确保及时清理



4.3.2

任务管理

spawn函数包括三个，入口函数F（只允许被执行一次），参数A和返回结果R，使用Send来保证可以传递。

上述三个参数的生命周期都应当超过任务的执行时间






