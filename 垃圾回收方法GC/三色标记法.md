Go语言的垃圾清除算法

三色标记法本身也是一种标记清除方法。

但是这里面更重要的是内存屏障技术，这使得go的垃圾回收可以并发执行。

（那按道理说，这性能是我想象中那样不算差了呀）

啊这，我研究了一下就为了看这个GC所看的那篇论文，他用go写操作系统，好像用的是go1.4版本。然而三色标记法的垃圾收集器是在go1.5版本发生的。emmm真不错。



三色分别是白色，灰色和黑色

一开始都是白色的，然后根节点集合里面放入灰色



再遍历灰色集合，原先的灰色放入黑色，原先白色的遍历到了就放入灰色

直到灰色全都空了，那么白色的丢掉。



之所以要内存屏障技术，是因为，为了并行的时候，可以让新增的东西直接放到灰色中去。



强三色不变性，黑色不会指向白色，只会只想灰色或者黑色对象

弱三色不变性，黑色指向的白色对象必须包含一条从灰色对象经由多个白色对象的可达路径




